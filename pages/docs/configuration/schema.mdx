import withDocs from '../../../components/with_docs';

export default withDocs({
  title: 'Configuration Schema',
  description: 'The statickit.json config schema',
  path: '/docs/configuration/schema',
  breadcrumb: {
    path: '/docs/configuration',
    label: 'Deployment',
    rel: 'prev'
  },
  toc: [],
  prev: {
    path: '/docs/configuration',
    label: 'Configuration'
  }
});

# Schema

This document describes the `statickit.json` schema. Here are the available top-level keys:

| Key                     | Type                     | Description                                                  |
| :---------------------- | :----------------------- | :----------------------------------------------------------- |
| [`forms`](#forms)       | Object                   | An object defining the forms for your site                   |

## `forms`

The `forms` object is where you define the forms for your site. 

If a form does not yet exist for a particular key, we'll create one when you deploy. If the form already exists, we'll update its settings to match what you specify.

| Key                           | Type                     | Description                                                  |
| :---------------------------- | :----------------------- | :----------------------------------------------------------- |
| `name`                        | String (required)        | The name of the form                                         |
| [`actions`](#formskeyactions) | Object                   | Actions to perform after submission                          |
| [`fields`](#formskeyfields)   | Object                   | Metadata about form fields                                   |

#### Usage Example

```js
{
  "forms": {
    "contact": {
      "name": "Contact Form"
    }
  }
}
```

## `forms[key].actions`

An Object describing one or more actions.

| Key                                  | Type                   | Description                                                    |
| :----------------------------------- | :--------------------- | :------------------------------------------------------------- |
| [`email`](#formskeyactionsemail)     | Array of Objects       | Send an email notification                                     |
| [`webhook`](#formskeyactionswebhook) | Array of Objects       | Send a webhook                                                 |

#### Usage Example

```diff
  {
    "forms": {
      "contact": {
        "name": "Contact Form",
+       "actions": {
+         "email": [{
+           "to": "john@example.com"
+         }],
+         "webhook": [{
+           "url": "http://example.com/hook"
+         }]
+       }
      }
    }
  }
```

## `forms[key].actions.email`

An Array of Objects describing email notifications.

| Key                        | Type                     | Description                                                  |
| :------------------------- | :----------------------- | :----------------------------------------------------------- |
| `to`                       | String (required)        | The email address of the recipient                           |

#### Usage Example

```diff
  {
    "forms": {
      "contact": {
        "name": "Contact Form"
+       "actions": {
+         "email": [{
+           "to": "john@example.com"
+         }]
+       }
      }
    }
  }
```

## `forms[key].actions.webhook`

An Array of Objects describing webhooks.

| Key                        | Type                     | Description                                                  |
| :------------------------- | :----------------------- | :----------------------------------------------------------- |
| `url`                      | String (required)        | The endpoint to send the POST request                        |

#### Usage Example

```diff
  {
    "forms": {
      "contact": {
        "name": "Contact Form"
+       "actions": {
+         "webhook": [{
+           "url": "http://example.com/hook"
+         }]
+       }
      }
    }
  }
```
